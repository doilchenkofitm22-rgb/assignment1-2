 # Вимоги до безпеки

## Початкові вимоги та ризики

Демо‑проєкт реалізовано як простий Flask‑вебдодаток. Модель розробки — **DevSecOps**, тобто практики безпеки інтегруються на всіх етапах життєвого циклу. Початкова версія містить навмисні уразливості (SQL‑інʼєкція, відображена XSS, незахищена автентифікація), що дає можливість їх виявляти й виправляти. Базові вимоги безпеки:

* Контроль доступу до сторінок профілю та пошуку;
* Безпечне зберігання та передавання секретів (секретні ключі не зберігати в репозиторії);
* Логувати події логіну та невдалих спроб входу;
* Використання стійких хешів для паролів;

Очікувані ризики на старті: SQL‑інʼєкція у пошуку, відображена XSS, слабка автентифікація через зберігання паролів у відкритому вигляді, можливі вразливості в сторонніх залежностях та витік секретів через файли конфігурацій.

## 1. Область застосунку

Функціональність складається з домашньої сторінки, форми пошуку, відображення результатів, авторизації користувачів та сторінки профілю. Дані зберігаються в SQLite. 

## 2. Функціональні вимоги безпеки

- **AUTH‑1:** автентифікація користувача перед доступом до `/profile`;
- **AUTH‑2:** блокування облікового запису після N невдалих спроб входу;
- **STOR‑1:** зберігати паролі із сіллю та стійким хешем (PBKDF2, Argon2);
- **LOG‑1:** створювати журнал дій: вхід/вихід, помилки автентифікації;
- **CONF‑1:** зберігати секрети у змінних середовища чи системах секретів CI/CD.

## 3. Нефункціональні вимоги

- **Відповідність стандартам:** орієнтація на рекомендації OWASP ASVS рівня L1–L2;
- **Продуктивність:** інструменти DAST не повинні істотно впливати на стабільність сервісу;
- **Експлуатаційність:** інтеграція з системою відстеження задач.

## 4. Потенційні загрози

- SQL‑інʼєкції у параметрах пошуку;
- Відображена XSS через відсутність екранування виводу;
- Слабка автентифікація: паролі у відкритому вигляді, відсутність обмеження спроб;
- Витік секретів через логи чи файли репозиторію;
- Вразливості сторонніх бібліотек.

## 5. Цілі безпеки

- **Конфіденційність (C):** захист даних облікових записів, session токенів та будь‑якої особистої інформації;
- **Цілісність (I):** гарантія, що результати пошуку та профілі не модифікуються сторонніми особами;
- **Доступність (A):** сервіс має бути доступним під час тестування та експлуатації;
- **Відповідність (Compliance):** дотримання внутрішніх політик і галузевих стандартів.

## 6. Початкові ризики та пріоритезація

| Risk ID | Опис | Ймовірність | Вплив | Стан |
|--------|------|-------------|-------|------|
| R1 | SQLi в пошуку `/search` | висока | висока | відкрита |
| R2 | Відображена XSS на сторінці `/echo` | середня | середній | відкрита |
| R3 | Слабка автентифікація / зберігання паролів у відкритому вигляді | висока | висока | відкрита |
| R4 | Вразливі залежності / вразливості контейнера | середня | середній | відкрита |
| R5 | Витік секретів через помилки конфігурації | низька | середній | відкрита |

 